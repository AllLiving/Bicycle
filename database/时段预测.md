[TOC]

### 前情回顾

上一周的任务是实现几何分类（K-mean)与T聚类的迭代回归，目前尚未完成，因此，这周要继续完成。

下一阶段的任务是

### 预测整体的交通模型

本次实验中预测交通信息的时候，分为两个阶段：

1. 考虑天气因素、时间因素与温度因素，使用以上因素分别进行预测；
2. 对各自的实验结果进行加权平均；

这两周尽量完成的任务是使用时间段因素进行预测与根据天气因素进行预测：

#### 使用时段因素进行预测

使用时间段因素进行预测需要考虑以下前提：

- 前提一：

  考虑站点的基本单位是聚类（如果尚未收到聚类结果请先使用自己的小数据集进行编写）

- 前提二：每天同一时间的车流量类似

- 前提三：随着时间的推移，越久远的数据参考性越差

因此在根据过去数据进行预测的时候需要遵循以下规则：
$$
\begin{align}
\lambda(t_1, t_2) &= 1_{t_1, t_2}\times{\rho_1}^{\Delta h(t_1, t_2)}\times{\rho_2}^{\Delta d(t_1, t_2)}
\end{align}
$$

1. 该函数只对时间考虑。

   会根据**历史时间停车数量的数据与当前的时间数据**计算出一个结果。

2. `t`表示具体时间，$t_1$表示过去时间，$t_2$表示当前时间。

   比如一共有720小时，则`t`的取值范围是`[0, 720]`

3. `1`表示冲激函数：*（前提二）*

   - 如果$t_1$与$t_2$同时属于工作日则冲激函数为1；
   - 如果$t_1$与$t_2$同属周末则冲激函数为1；
   - 其他情况置为0；

   故而该函数用于划分当前参数是否是同一种情况。

4. 函数$\Delta h(t_1, t_2)$与$\Delta d(t_1, t_2)$。

   这里引入一个函数：
   $$
   r(t_1, t_2) = mod(|t_1 - t_2|, 24)
   $$
   该函数使用取模操作，比较差值的余数值，其实就是解释两个时间段相距的多少小时，是否是同一个时间段。

   ---

   函数$\Delta h(t_1, t_2)$。*（前提二）*
   $$
   \Delta h(t_1, t_2) = min\{ 
   	r(t_1, t_2),
   	24 - r(t_1, t_2)
   \}
   $$
   这种操作记录了两个时间点在表盘上的时差，时差越大表明这两个时间点不是同一个时间段，参考价值越低。

   所以以上函数中的项$\rho^{\Delta h(t_1, t_2)}$应该是减函数。 

   ---

   函数$\Delta d(t_1, t_2)$。
   $$
   \begin{align}
     \Delta d(t_1, t_2) &= 
     \left[ \frac{|t_1-t_2|}{24}
     \right]
   \end{align}
   $$
   同理应该使$\rho_{2}^{\Delta d(t_1, t_2)}$为减函数。















